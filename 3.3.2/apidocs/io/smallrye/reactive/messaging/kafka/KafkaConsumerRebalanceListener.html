<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_292) on Mon May 24 18:45:57 CEST 2021 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>KafkaConsumerRebalanceListener (SmallRye Reactive Messaging 3.3.2 API)</title>
<meta name="date" content="2021-05-24">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="KafkaConsumerRebalanceListener (SmallRye Reactive Messaging 3.3.2 API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":18,"i1":18,"i2":18};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/KafkaConsumerRebalanceListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../io/smallrye/reactive/messaging/kafka/KafkaConsumer.html" title="interface in io.smallrye.reactive.messaging.kafka"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../io/smallrye/reactive/messaging/kafka/KafkaMessage.html" title="interface in io.smallrye.reactive.messaging.kafka"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?io/smallrye/reactive/messaging/kafka/KafkaConsumerRebalanceListener.html" target="_top">Frames</a></li>
<li><a href="KafkaConsumerRebalanceListener.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">io.smallrye.reactive.messaging.kafka</div>
<h2 title="Interface KafkaConsumerRebalanceListener" class="title">Interface KafkaConsumerRebalanceListener</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="typeNameLabel">KafkaConsumerRebalanceListener</span></pre>
<div class="block">When implemented by a managed bean annotated with <code>@Identifier</code>
 and configured against an inbound connector, it will be applied as a consumer rebalance listener
 to that inbound connector's consumer.
 <p>
 To configure which listener you want to use, set the name in the inbound connector's consumer rebalance listener
 attribute. For example:

 <pre>
 mp.messaging.incoming.example.consumer-rebalance-listener.name=ExampleConsumerRebalanceListener

 &#64;Identifier("ExampleConsumerRebalanceListener")
 public class ExampleConsumerRebalanceListener implements KafkaConsumerRebalanceListener {
     ...
 }
 </pre>

 Alternatively, name your listener (using the <code>@Identifier</code> annotation) to be the group id used by the connector.
 For example:

 <pre>
 mp.messaging.incoming.example.group.id=my-group

 &#64;Identifier("my-group")
 public class MyGroupConsumerRebalanceListener implements KafkaConsumerRebalanceListener {
     ...
 }
 </pre>
 <p>
 Setting the consumer rebalance listener name takes precedence over using the group id.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>ConsumerRebalanceListener</code></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>default void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/smallrye/reactive/messaging/kafka/KafkaConsumerRebalanceListener.html#onPartitionsAssigned-org.apache.kafka.clients.consumer.Consumer-java.util.Collection-">onPartitionsAssigned</a></span>(org.apache.kafka.clients.consumer.Consumer&lt;?,?&gt;&nbsp;consumer,
                    <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;org.apache.kafka.common.TopicPartition&gt;&nbsp;partitions)</code>
<div class="block">A callback method the user can implement to provide handling of customized offsets on completion of a successful
 partition re-assignment.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>default void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/smallrye/reactive/messaging/kafka/KafkaConsumerRebalanceListener.html#onPartitionsLost-org.apache.kafka.clients.consumer.Consumer-java.util.Collection-">onPartitionsLost</a></span>(org.apache.kafka.clients.consumer.Consumer&lt;?,?&gt;&nbsp;consumer,
                <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;org.apache.kafka.common.TopicPartition&gt;&nbsp;partitions)</code>
<div class="block">A callback method you can implement to provide handling of cleaning up resources for partitions that have already
 been reassigned to other consumers.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>default void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../io/smallrye/reactive/messaging/kafka/KafkaConsumerRebalanceListener.html#onPartitionsRevoked-org.apache.kafka.clients.consumer.Consumer-java.util.Collection-">onPartitionsRevoked</a></span>(org.apache.kafka.clients.consumer.Consumer&lt;?,?&gt;&nbsp;consumer,
                   <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;org.apache.kafka.common.TopicPartition&gt;&nbsp;partitions)</code>
<div class="block">A callback method the user can implement to provide handling of offset commits to a customized store.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="onPartitionsAssigned-org.apache.kafka.clients.consumer.Consumer-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onPartitionsAssigned</h4>
<pre>default&nbsp;void&nbsp;onPartitionsAssigned(org.apache.kafka.clients.consumer.Consumer&lt;?,?&gt;&nbsp;consumer,
                                  <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;org.apache.kafka.common.TopicPartition&gt;&nbsp;partitions)</pre>
<div class="block">A callback method the user can implement to provide handling of customized offsets on completion of a successful
 partition re-assignment. This method will be called after the partition re-assignment completes and before the
 consumer starts fetching data, and only as the result of a <code>poll(long)</code> call.
 <p>
 It is guaranteed that under normal conditions all the processes in a consumer group will execute their
 <a href="../../../../../io/smallrye/reactive/messaging/kafka/KafkaConsumerRebalanceListener.html#onPartitionsRevoked-org.apache.kafka.clients.consumer.Consumer-java.util.Collection-"><code>onPartitionsRevoked(Consumer, Collection)</code></a> callback before any instance executes this
 callback. During exceptional scenarios, partitions may be migrated
 without the old owner being notified (i.e. their <a href="../../../../../io/smallrye/reactive/messaging/kafka/KafkaConsumerRebalanceListener.html#onPartitionsRevoked-org.apache.kafka.clients.consumer.Consumer-java.util.Collection-"><code>onPartitionsRevoked(Consumer, Collection)</code></a> callback not
 triggered),
 and later when the old owner consumer realized this event, the <a href="../../../../../io/smallrye/reactive/messaging/kafka/KafkaConsumerRebalanceListener.html#onPartitionsLost-org.apache.kafka.clients.consumer.Consumer-java.util.Collection-"><code>onPartitionsLost(Consumer, Collection)</code></a>
 (Collection)} callback
 will be triggered by the consumer then.
 <p>
 It is common for the assignment callback to use the consumer instance in order to query offsets. It is possible
 for a <code>WakeupException</code> or <code>InterruptException</code>
 to be raised from one of these nested invocations. In this case, the exception will be propagated to the current
 invocation of <code>KafkaConsumer.poll(java.time.Duration)</code> in which this callback is
 being executed. This means it is not
 necessary to catch these exceptions and re-attempt to wakeup or interrupt the consumer thread.

 <strong>IMPORTANT</strong>: The behavior must be blocking. Callback invoked from the polling thread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>partitions</code> - The list of partitions that are now assigned to the consumer (previously owned partitions will
        NOT be included, i.e. this list will only include newly added partitions)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.kafka.common.errors.WakeupException</code> - If raised from a nested call to
         <code>KafkaConsumer</code></dd>
<dd><code>org.apache.kafka.common.errors.InterruptException</code> - If raised from a nested call to
         <code>KafkaConsumer</code></dd>
</dl>
</li>
</ul>
<a name="onPartitionsRevoked-org.apache.kafka.clients.consumer.Consumer-java.util.Collection-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onPartitionsRevoked</h4>
<pre>default&nbsp;void&nbsp;onPartitionsRevoked(org.apache.kafka.clients.consumer.Consumer&lt;?,?&gt;&nbsp;consumer,
                                 <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;org.apache.kafka.common.TopicPartition&gt;&nbsp;partitions)</pre>
<div class="block">A callback method the user can implement to provide handling of offset commits to a customized store.
 This method will be called during a rebalance operation when the consumer has to give up some partitions.
 It can also be called when consumer is being closed
 (<code>KafkaConsumer.close(Duration)</code>)
 or is unsubscribing (<code>KafkaConsumer.unsubscribe()</code>).
 It is recommended that offsets should be committed in this callback to either Kafka or a
 custom offset store to prevent duplicate data.
 <p>
 In eager rebalancing, it will always be called at the start of a rebalance and after the consumer stops fetching data.
 In cooperative rebalancing, it will be called at the end of a rebalance on the set of partitions being revoked iff the
 set is non-empty.
 For examples on usage of this API, see Usage Examples section of <code>KafkaConsumer</code>.
 <p>
 It is common for the revocation callback to use the consumer instance in order to commit offsets. It is possible
 for a <code>WakeupException</code> or <code>InterruptException</code>
 to be raised from one of these nested invocations. In this case, the exception will be propagated to the current
 invocation of <code>KafkaConsumer.poll(java.time.Duration)</code> in which this callback is
 being executed. This means it is not
 necessary to catch these exceptions and re-attempt to wakeup or interrupt the consumer thread.

 <strong>IMPORTANT</strong>: The behavior must be blocking. Callback invoked from the polling thread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>partitions</code> - The list of partitions that were assigned to the consumer and now need to be revoked (may not
        include all currently assigned partitions, i.e. there may still be some partitions left)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.kafka.common.errors.WakeupException</code> - If raised from a nested call to
         <code>KafkaConsumer</code></dd>
<dd><code>org.apache.kafka.common.errors.InterruptException</code> - If raised from a nested call to
         <code>KafkaConsumer</code></dd>
</dl>
</li>
</ul>
<a name="onPartitionsLost-org.apache.kafka.clients.consumer.Consumer-java.util.Collection-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onPartitionsLost</h4>
<pre>default&nbsp;void&nbsp;onPartitionsLost(org.apache.kafka.clients.consumer.Consumer&lt;?,?&gt;&nbsp;consumer,
                              <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;org.apache.kafka.common.TopicPartition&gt;&nbsp;partitions)</pre>
<div class="block">A callback method you can implement to provide handling of cleaning up resources for partitions that have already
 been reassigned to other consumers. This method will not be called during normal execution as the owned partitions would
 first be revoked by calling the <a href="../../../../../io/smallrye/reactive/messaging/kafka/KafkaConsumerRebalanceListener.html#onPartitionsRevoked-org.apache.kafka.clients.consumer.Consumer-java.util.Collection-"><code>onPartitionsRevoked(org.apache.kafka.clients.consumer.Consumer&lt;?, ?&gt;, java.util.Collection&lt;org.apache.kafka.common.TopicPartition&gt;)</code></a>, before being reassigned
 to other consumers during a rebalance event. However, during exceptional scenarios when the consumer realized that it
 does not own this partition any longer, i.e. not revoked via a normal rebalance event, then this method would be invoked.
 <p>
 For example, this function is called if a consumer's session timeout has expired, or if a fatal error has been
 received indicating the consumer is no longer part of the group.
 <p>
 By default it will just trigger <a href="../../../../../io/smallrye/reactive/messaging/kafka/KafkaConsumerRebalanceListener.html#onPartitionsRevoked-org.apache.kafka.clients.consumer.Consumer-java.util.Collection-"><code>onPartitionsRevoked(org.apache.kafka.clients.consumer.Consumer&lt;?, ?&gt;, java.util.Collection&lt;org.apache.kafka.common.TopicPartition&gt;)</code></a>; for users who want to distinguish
 the handling logic of revoked partitions v.s. lost partitions, they can override the default implementation.
 <p>
 It is possible
 for a <code>WakeupException</code> or <code>InterruptException</code>
 to be raised from one of these nested invocations. In this case, the exception will be propagated to the current
 invocation of <code>KafkaConsumer.poll(java.time.Duration)</code> in which this callback is
 being executed. This means it is not
 necessary to catch these exceptions and re-attempt to wakeup or interrupt the consumer thread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>partitions</code> - The list of partitions that were assigned to the consumer and now have been reassigned
        to other consumers. With the current protocol this will always include all of the consumer's
        previously assigned partitions, but this may change in future protocols (ie there would still
        be some partitions left)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.kafka.common.errors.WakeupException</code> - If raised from a nested call to
         <code>KafkaConsumer</code></dd>
<dd><code>org.apache.kafka.common.errors.InterruptException</code> - If raised from a nested call to
         <code>KafkaConsumer</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/KafkaConsumerRebalanceListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../io/smallrye/reactive/messaging/kafka/KafkaConsumer.html" title="interface in io.smallrye.reactive.messaging.kafka"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../io/smallrye/reactive/messaging/kafka/KafkaMessage.html" title="interface in io.smallrye.reactive.messaging.kafka"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?io/smallrye/reactive/messaging/kafka/KafkaConsumerRebalanceListener.html" target="_top">Frames</a></li>
<li><a href="KafkaConsumerRebalanceListener.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2018&#x2013;2021 <a href="https://wwww.smallrye.io">SmallRye</a>. All rights reserved.</small></p>
</body>
</html>
