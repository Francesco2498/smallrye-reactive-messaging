<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.10) on Tue Mar 16 08:55:29 CET 2021 -->
<title>KafkaConsumerRebalanceListener (SmallRye Reactive Messaging 2.9.0 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-03-16">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="KafkaConsumerRebalanceListener (SmallRye Reactive Messaging 2.9.0 API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":18,"i1":18,"i2":18};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],16:["t5","Default Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/KafkaConsumerRebalanceListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">io.smallrye.reactive.messaging.kafka</a></div>
<h2 title="Interface KafkaConsumerRebalanceListener" class="title">Interface KafkaConsumerRebalanceListener</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public interface <span class="typeNameLabel">KafkaConsumerRebalanceListener</span></pre>
<div class="block">When implemented by a managed bean annotated with <code>Named</code> and
 configured against an inbound connector will be applied as a consumer re-balance listener
 to that inbound connector's consumer.


 To configure which listener you want to use, set the name in the inbound connector's consumer re-balance listener attribute,
 ex:
 <code>
  mp.messaging.incoming.example.consumer-rebalance- listener.name=ExampleConsumerRebalanceListener
 </code>
 <code>@Named("ExampleConsumerRebalanceListener")</code>

 Alternatively, name your listener (using the <code>@Named</code> annotation) to be the group id used by the connector, ex:
 <code>
  mp.messaging.incoming.example.group.id=my-group
 </code>
 <code>@Named("my-group")</code>

 Setting the consumer re-balance listener name takes precedence over using the group id.

 For more details:</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><code>ConsumerRebalanceListener</code></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t5" class="tableTab"><span><a href="javascript:show(16);">Default Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>default void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onPartitionsAssigned(org.apache.kafka.clients.consumer.Consumer,java.util.Collection)">onPartitionsAssigned</a></span>&#8203;(org.apache.kafka.clients.consumer.Consumer&lt;?,&#8203;?&gt;&nbsp;consumer,
                    <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;org.apache.kafka.common.TopicPartition&gt;&nbsp;partitions)</code></th>
<td class="colLast">
<div class="block">A callback method the user can implement to provide handling of customized offsets on completion of a successful
 partition re-assignment.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>default void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onPartitionsLost(org.apache.kafka.clients.consumer.Consumer,java.util.Collection)">onPartitionsLost</a></span>&#8203;(org.apache.kafka.clients.consumer.Consumer&lt;?,&#8203;?&gt;&nbsp;consumer,
                <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;org.apache.kafka.common.TopicPartition&gt;&nbsp;partitions)</code></th>
<td class="colLast">
<div class="block">A callback method you can implement to provide handling of cleaning up resources for partitions that have already
 been reassigned to other consumers.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>default void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#onPartitionsRevoked(org.apache.kafka.clients.consumer.Consumer,java.util.Collection)">onPartitionsRevoked</a></span>&#8203;(org.apache.kafka.clients.consumer.Consumer&lt;?,&#8203;?&gt;&nbsp;consumer,
                   <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;org.apache.kafka.common.TopicPartition&gt;&nbsp;partitions)</code></th>
<td class="colLast">
<div class="block">A callback method the user can implement to provide handling of offset commits to a customized store.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="onPartitionsAssigned(org.apache.kafka.clients.consumer.Consumer,java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onPartitionsAssigned</h4>
<pre class="methodSignature">default&nbsp;void&nbsp;onPartitionsAssigned&#8203;(org.apache.kafka.clients.consumer.Consumer&lt;?,&#8203;?&gt;&nbsp;consumer,
                                  <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;org.apache.kafka.common.TopicPartition&gt;&nbsp;partitions)</pre>
<div class="block">A callback method the user can implement to provide handling of customized offsets on completion of a successful
 partition re-assignment. This method will be called after the partition re-assignment completes and before the
 consumer starts fetching data, and only as the result of a <code>poll(long)</code> call.
 <p>
 It is guaranteed that under normal conditions all the processes in a consumer group will execute their
 <a href="#onPartitionsRevoked(org.apache.kafka.clients.consumer.Consumer,java.util.Collection)"><code>onPartitionsRevoked(Consumer, Collection)</code></a> callback before any instance executes this
 callback. During exceptional scenarios, partitions may be migrated
 without the old owner being notified (i.e. their <a href="#onPartitionsRevoked(org.apache.kafka.clients.consumer.Consumer,java.util.Collection)"><code>onPartitionsRevoked(Consumer, Collection)</code></a> callback not
 triggered),
 and later when the old owner consumer realized this event, the <a href="#onPartitionsLost(org.apache.kafka.clients.consumer.Consumer,java.util.Collection)"><code>onPartitionsLost(Consumer, Collection)</code></a>
 (Collection)} callback
 will be triggered by the consumer then.
 <p>
 It is common for the assignment callback to use the consumer instance in order to query offsets. It is possible
 for a <code>WakeupException</code> or <code>InterruptException</code>
 to be raised from one of these nested invocations. In this case, the exception will be propagated to the current
 invocation of <code>KafkaConsumer.poll(java.time.Duration)</code> in which this callback is
 being executed. This means it is not
 necessary to catch these exceptions and re-attempt to wakeup or interrupt the consumer thread.

 <strong>IMPORTANT</strong>: The behavior must be blocking. Callback invoked from the polling thread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>partitions</code> - The list of partitions that are now assigned to the consumer (previously owned partitions will
        NOT be included, i.e. this list will only include newly added partitions)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.kafka.common.errors.WakeupException</code> - If raised from a nested call to
         <code>KafkaConsumer</code></dd>
<dd><code>org.apache.kafka.common.errors.InterruptException</code> - If raised from a nested call to
         <code>KafkaConsumer</code></dd>
</dl>
</li>
</ul>
<a id="onPartitionsRevoked(org.apache.kafka.clients.consumer.Consumer,java.util.Collection)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onPartitionsRevoked</h4>
<pre class="methodSignature">default&nbsp;void&nbsp;onPartitionsRevoked&#8203;(org.apache.kafka.clients.consumer.Consumer&lt;?,&#8203;?&gt;&nbsp;consumer,
                                 <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;org.apache.kafka.common.TopicPartition&gt;&nbsp;partitions)</pre>
<div class="block">A callback method the user can implement to provide handling of offset commits to a customized store.
 This method will be called during a rebalance operation when the consumer has to give up some partitions.
 It can also be called when consumer is being closed
 (<code>KafkaConsumer.close(Duration)</code>)
 or is unsubscribing (<code>KafkaConsumer.unsubscribe()</code>).
 It is recommended that offsets should be committed in this callback to either Kafka or a
 custom offset store to prevent duplicate data.
 <p>
 In eager rebalancing, it will always be called at the start of a rebalance and after the consumer stops fetching data.
 In cooperative rebalancing, it will be called at the end of a rebalance on the set of partitions being revoked iff the
 set is non-empty.
 For examples on usage of this API, see Usage Examples section of <code>KafkaConsumer</code>.
 <p>
 It is common for the revocation callback to use the consumer instance in order to commit offsets. It is possible
 for a <code>WakeupException</code> or <code>InterruptException</code>
 to be raised from one of these nested invocations. In this case, the exception will be propagated to the current
 invocation of <code>KafkaConsumer.poll(java.time.Duration)</code> in which this callback is
 being executed. This means it is not
 necessary to catch these exceptions and re-attempt to wakeup or interrupt the consumer thread.

 <strong>IMPORTANT</strong>: The behavior must be blocking. Callback invoked from the polling thread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>partitions</code> - The list of partitions that were assigned to the consumer and now need to be revoked (may not
        include all currently assigned partitions, i.e. there may still be some partitions left)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.kafka.common.errors.WakeupException</code> - If raised from a nested call to
         <code>KafkaConsumer</code></dd>
<dd><code>org.apache.kafka.common.errors.InterruptException</code> - If raised from a nested call to
         <code>KafkaConsumer</code></dd>
</dl>
</li>
</ul>
<a id="onPartitionsLost(org.apache.kafka.clients.consumer.Consumer,java.util.Collection)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>onPartitionsLost</h4>
<pre class="methodSignature">default&nbsp;void&nbsp;onPartitionsLost&#8203;(org.apache.kafka.clients.consumer.Consumer&lt;?,&#8203;?&gt;&nbsp;consumer,
                              <a href="https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html?is-external=true" title="class or interface in java.util" class="externalLink">Collection</a>&lt;org.apache.kafka.common.TopicPartition&gt;&nbsp;partitions)</pre>
<div class="block">A callback method you can implement to provide handling of cleaning up resources for partitions that have already
 been reassigned to other consumers. This method will not be called during normal execution as the owned partitions would
 first be revoked by calling the <a href="#onPartitionsRevoked(org.apache.kafka.clients.consumer.Consumer,java.util.Collection)"><code>onPartitionsRevoked(org.apache.kafka.clients.consumer.Consumer&lt;?, ?&gt;, java.util.Collection&lt;org.apache.kafka.common.TopicPartition&gt;)</code></a>, before being reassigned
 to other consumers during a rebalance event. However, during exceptional scenarios when the consumer realized that it
 does not own this partition any longer, i.e. not revoked via a normal rebalance event, then this method would be invoked.
 <p>
 For example, this function is called if a consumer's session timeout has expired, or if a fatal error has been
 received indicating the consumer is no longer part of the group.
 <p>
 By default it will just trigger <a href="#onPartitionsRevoked(org.apache.kafka.clients.consumer.Consumer,java.util.Collection)"><code>onPartitionsRevoked(org.apache.kafka.clients.consumer.Consumer&lt;?, ?&gt;, java.util.Collection&lt;org.apache.kafka.common.TopicPartition&gt;)</code></a>; for users who want to distinguish
 the handling logic of revoked partitions v.s. lost partitions, they can override the default implementation.
 <p>
 It is possible
 for a <code>WakeupException</code> or <code>InterruptException</code>
 to be raised from one of these nested invocations. In this case, the exception will be propagated to the current
 invocation of <code>KafkaConsumer.poll(java.time.Duration)</code> in which this callback is
 being executed. This means it is not
 necessary to catch these exceptions and re-attempt to wakeup or interrupt the consumer thread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>partitions</code> - The list of partitions that were assigned to the consumer and now have been reassigned
        to other consumers. With the current protocol this will always include all of the consumer's
        previously assigned partitions, but this may change in future protocols (ie there would still
        be some partitions left)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>org.apache.kafka.common.errors.WakeupException</code> - If raised from a nested call to
         <code>KafkaConsumer</code></dd>
<dd><code>org.apache.kafka.common.errors.InterruptException</code> - If raised from a nested call to
         <code>KafkaConsumer</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/KafkaConsumerRebalanceListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2018&#x2013;2021 <a href="https://wwww.smallrye.io">SmallRye</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
